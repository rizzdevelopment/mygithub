(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{13031:function(a,b,c){"use strict";c.d(b,{Z:function(){return aC}});var d,e,f,g,h,i,j=c(47568),k=c(34051),l=c.n(k),m=c(85893),n=c(56647),o=c(67294),p=c(72132),q=c(50847),r=c(14924),s=c(26042),t=c(69396),u=c(27361),v=c.n(u),w=c(41609),x=c.n(w),y=c(99534),z=c(94184),A=c.n(z),B=c(48023),C=c(12987),D=c.n(C),E=function(a){var b=a.error;return(0,m.jsx)(m.Fragment,{children:b?(0,m.jsx)("p",{className:D().errorMessage,children:b}):(0,m.jsx)(B.Z,{size:2})})},F=E,G=c(43162),H=c.n(G),I=function(a){var b=a.labelText,c=a.error,d=(0,y.Z)(a,["labelText","error"]),e=A()(H().input,[(0,r.Z)({},"".concat(H()["has-error"]),!!c)]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("input",(0,s.Z)({type:"text",className:e,"aria-label":void 0===b?"":b},d)),(0,m.jsx)(F,{error:c})]})},J=I,K=function(a){var b=0===a?0:Math.floor(Math.log(a)/Math.log(1e3));return 1*parseFloat((a/Math.pow(1e3,b)).toFixed(1))+" "+["B","kB","MB","GB","TB"][b]},L=K,M=c(25093);(i=d||(d={})).UploadInput="file-upload-input";var N,O=c(95545),P=c.n(O),Q=function(a){var b=a.labelText,c=a.error,e=a.onChange,f=(0,y.Z)(a,["labelText","error","onChange"]),g=(0,o.useState)(),h=g[0],i=g[1],j=function(a){a.target.files&&i(a.target.files[0]),e&&e(a)},k=A()(P()["file-upload"],[(0,r.Z)({},"".concat(P()["has-error"]),!!c)]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:P()["file-upload-wrapper"],children:[(0,m.jsxs)("label",{className:k,tabIndex:0,children:[void 0===b?"":b,(0,m.jsx)("input",(0,t.Z)((0,s.Z)({type:"file","data-testid":d.UploadInput,className:P().upload},f),{onChange:j}))]}),!h&&(0,m.jsx)("p",{className:P().formats,children:"PNG or GIF file."}),h&&(0,m.jsxs)("div",{className:P()["selected-file-wrapper"],children:[(0,m.jsx)("span",{className:P()["selected-file-icon"],children:(0,m.jsx)(M.Uj,{})}),(0,m.jsxs)("span",{children:[h.name,(0,m.jsx)("br",{}),L(h.size)]})]})]}),(0,m.jsx)(F,{error:c})]})},R=Q,S=c(46052),T=c.n(S);(N=e||(e={})).TINY="tiny",N.SMALL="small",N.MEDIUM="medium",N.LARGE="large";var U,V=function(a){var b=a.size,c=void 0===b?e.SMALL:b,d=a.color,f="".concat(T()["is-".concat(c)]),g="".concat(T()["is-".concat(void 0===d?"white":d)]),h="".concat(T()["spinner-container"]),i=A()(["".concat(h," ").concat(f," ").concat(g)]);return(0,m.jsx)("div",{className:i,children:(0,m.jsx)("div",{className:T().scale,children:(0,m.jsx)("svg",{className:T().circular,children:(0,m.jsx)("circle",{className:T().path,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"3"})})})})},W=V,X=c(29815),Y=c(13141),Z=c(95237),$=c(78855),_=c(8824),aa=function(a){return a.trim().toLowerCase()},ab=aa,ac=c(26638);(U=f||(f={})).SuggestedTag="suggested-tag";var ad,ae=c(44048),af=c.n(ae),ag=function(a){var b,c,d,e,g=a.items,h=void 0===g?[]:g,i=a.placeholder,j=a.optionFilterFunc,k=a.onCreateItem,l=a.selectedItems,n=a.hasError,p=(0,y.Z)(a,["items","placeholder","optionFilterFunc","onCreateItem","selectedItems","hasError"]),q=(0,o.useState)(!1),u=q[0],v=q[1],w=(0,o.useState)((e=h).sort(function(a,b){return a.value.localeCompare(b.value)})),x=w[0],z=w[1],B=(0,o.useState)(n),C=B[0],D=B[1],E=(0,o.useRef)(null),F=(0,o.useRef)(null),G=l.map(function(a){return a.value}),H=(0,Z.D)(E.current,F.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,0]}}]}),I=H.styles,J=H.attributes,K=H.forceUpdate,L=(0,$.M$)((0,t.Z)((0,s.Z)({},p),{selectedItems:l,stateReducer:function(a,b){var c=b.type,d=b.changes;return c===$.M$.stateChangeTypes.FunctionRemoveSelectedItem?(0,t.Z)((0,s.Z)({},d),{activeIndex:void 0}):d}})),N=L.getSelectedItemProps,O=L.getDropdownProps,P=L.addSelectedItem,Q=L.removeSelectedItem,R=L.activeIndex,S=function(a){G.includes(a.value)?Q(a):k&&u?(k(a),P(a),z(h),v(!1)):P(a)},T=(0,$.Kb)({id:"tag-selection",selectedItem:null,items:x,onInputValueChange:function(a){var b=j(h,a.inputValue||"");u&&b.length>0&&v(!1),z(b)},stateReducer:function(a,b){var c=b.changes,d=b.type;switch(d){case $.Kb.stateChangeTypes.InputBlur:return(0,t.Z)((0,s.Z)({},c),{highlightedIndex:a.highlightedIndex,inputValue:""});case $.Kb.stateChangeTypes.InputKeyDownEnter:case $.Kb.stateChangeTypes.ItemClick:return(0,t.Z)((0,s.Z)({},c),{highlightedIndex:a.highlightedIndex,isOpen:!0,inputValue:""});default:return c}},onStateChange:function(a){var b=a.type,c=a.selectedItem;switch(b){case $.Kb.stateChangeTypes.InputKeyDownEnter:case $.Kb.stateChangeTypes.ItemClick:c&&(S(c),ae(null))}}}),U=T.isOpen,V=T.getMenuProps,W=T.getInputProps,X=T.getComboboxProps,Y=T.highlightedIndex,aa=T.getItemProps,ad=T.openMenu,ae=T.selectItem,ag=T.setHighlightedIndex,ah=T.inputValue;return((0,o.useEffect)(function(){0===x.length&& -1===R&&(v(!0),z([{label:"".concat((0,ac.Z)(ah)),value:ab(ah)}]),ag(0))},[x,v,ag,ah,R,K]),(0,_.Z)(function(){h&&K&&K(),z(h)},[h,K]),(0,o.useEffect)(function(){l&&K&&K()},[l,K]),(0,o.useEffect)(function(){D(Boolean(n))},[n]),h.length)?(0,m.jsx)("div",{className:A()(af().tagSelector,(d={},(0,r.Z)(d,af().active,U),(0,r.Z)(d,af().hasError,C),d)),ref:E,children:(0,m.jsxs)("div",(0,t.Z)((0,s.Z)({className:af().selectedContainer},X()),{children:[l.map(function(a,b){return(0,m.jsx)("div",(0,t.Z)((0,s.Z)({},N({selectedItem:a,index:b})),{children:(0,m.jsxs)("div",{className:af().selectedItem,children:[(0,m.jsx)("span",{className:af().label,children:a.label}),(0,m.jsx)("button",{onClick:function(b){b.stopPropagation(),Q(a)},type:"button",className:af().removeButton,"aria-label":"Remove small badge",children:(0,m.jsx)(M.Tw,{})})]})}),"selected-item-".concat(b))}),(0,m.jsx)("div",{className:af().inputWrapper,children:(0,m.jsx)("input",(0,s.Z)({"aria-label":i},W(O({placeholder:i,onClick:U?void 0:ad,onFocus:U?void 0:ad}))))}),(0,m.jsxs)("div",(0,t.Z)((0,s.Z)({style:I.popper,className:A()(af().suggestions,(0,r.Z)({},af().isActive,U))},J.popper,V({ref:F})),{children:[(0,m.jsx)("ul",{children:U&&!!x.length&&x.map(function(a,b){return a.value===ab(ah)&&u?null:(0,m.jsxs)("li",(0,t.Z)((0,s.Z)({className:A()(af().suggestion,(0,r.Z)({},af().highlighted,Y===b)),"data-testid":f.SuggestedTag},aa({item:a,index:b})),{children:[G.includes(a.value)&&(0,m.jsx)("span",{className:af().selected,role:"img","aria-label":"Selected",children:(0,m.jsx)(M.KM,{})}),a.label]}),a.value)})}),!!ah.length&&!!x.length&&(b=h,c=ab(ah),!b.some(function(a){return a.value===c}))&&(0,m.jsx)("div",(0,t.Z)((0,s.Z)({"data-testid":f.SuggestedTag,className:A()(af().suggestion,af().newTag,(0,r.Z)({},af().highlighted,Y===x.length))},aa({item:{label:"".concat((0,ac.Z)(ah.trim())),value:ab(ah)},index:x.length})),{onClick:function(a){a.stopPropagation(),S({label:"".concat((0,ac.Z)(ah.trim())),value:ab(ah)}),ae(null)},children:(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{className:af().instructions,children:"Add tag:"}),(0,m.jsx)("span",{className:af().label,children:(0,ac.Z)(ah)})]})}),ab(ah))]}))]}))}):null};(ad=g||(g={})).TagWrapper="tag-selector-wrapper";var ah,ai=c(74378),aj=c.n(ai),ak=function(a){var b=a.onChange,c=a.tags,d=void 0===c?[]:c,e=a.error,f=function(a,b){return(0,Y.Lu)(a,b,{keys:["value","label"]})},h=(0,o.useState)(d),i=h[0],j=h[1],k=(0,o.useState)([]),l=k[0],n=k[1],p=(0,o.useState)(!1),q=p[0],r=p[1],s=(0,o.useState)(""),t=s[0],u=s[1],v=function(a){j(function(b){return(0,X.Z)(b).concat([a])}),n(function(b){return(0,X.Z)(b).concat([a])}),b(l),r(!1),u("")},w=function(a){a&&(n(a),b(a),r(!1),u(""))};return((0,o.useEffect)(function(){e?(r(!0),u(e)):(r(!1),u(""))},[e]),d.length)?(0,m.jsxs)("div",{className:aj().tagSelectorWrapper,"data-testid":g.TagWrapper,children:[(0,m.jsx)(ag,{placeholder:"Type tags...",onCreateItem:v,optionFilterFunc:f,items:i,selectedItems:l,hasError:q,onSelectedItemsChange:function(a){return w(a.selectedItems)}}),(0,m.jsx)(F,{error:t})]}):null},al=ak;(ah=h||(h={})).UploadAuthorName="pattern-author-name",ah.UploadAuthorWebsite="pattern-author-website",ah.UploadTitleName="pattern-name",ah.SubmitForm="submit";var am=c(46389),an=c.n(am),ao={authorName:"",patternName:"",authorWebsite:"",tags:[],file:void 0,filename:void 0},ap={authorName:"First and Last Name",patternName:"Pattern Name",authorWebsite:"Your Website (optional)",tags:"Type tags...",file:"Click here to select file"},aq={authorName:"authorName",patternName:"patternName",authorWebsite:"authorWebsite",tags:"tags",file:"upload"},ar=[".gif","image/gif",".png","image/png"],as=["authorName","patternName","tags","file"],at=function(a){var b,c=a.onSubmit,d=a.tags,e=(0,o.useState)(ao),f=e[0],g=e[1],i=(0,o.useState)({}),k=i[0],n=i[1],p=(0,o.useState)(!1),q=p[0],u=p[1],w=function(a){var b=a.target;if("file"===b.type){var c=v()(b,"files[0]");if(!c){g((0,t.Z)((0,s.Z)({},f),{file:void 0,filename:void 0}));return}var d=encodeURIComponent(c.name);n((0,t.Z)((0,s.Z)({},k),{file:void 0})),g((0,t.Z)((0,s.Z)({},f),{file:c,filename:d}))}else n((0,t.Z)((0,s.Z)({},k),(0,r.Z)({},b.name,void 0))),g((0,t.Z)((0,s.Z)({},f),(0,r.Z)({},b.name,b.value)))},y=function(){var a={},b=!0,c=!1,d=void 0;try{for(var e,g=as[Symbol.iterator]();!(b=(e=g.next()).done);b=!0){var h=e.value;"file"===h?f.file?ar.includes(f.file.type)?f.file.size>1048576&&(a[h]="File size exceeds the maximum limit of 1 MB."):a[h]="Please use a PNG or GIF file.":a[h]="Uploading pattern image is required.":"tags"!==h||f.tags.length?x()(f[h])&&(a[h]="This field is required."):a[h]="Choose at least one tag."}}catch(i){c=!0,d=i}finally{try{b||null==g.return||g.return()}finally{if(c)throw d}}return n(a),!Object.keys(a).length},z=(b=(0,j.Z)(l().mark(function a(b){var d;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.preventDefault(),d=y()){a.next=4;break}return a.abrupt("return");case 4:return u(!0),a.prev=5,a.next=8,c(f);case 8:u(!1),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(5),u(!1);case 14:case"end":return a.stop()}},a,null,[[5,11]])})),function(a){return b.apply(this,arguments)}),A=function(a){var b=a.map(function(a){return a.value});g((0,t.Z)((0,s.Z)({},f),{tags:b}))};return(0,m.jsxs)("form",{className:an().form,onSubmit:z,children:[(0,m.jsx)(J,{"data-testid":h.UploadAuthorName,placeholder:ap.authorName,labelText:ap.authorName,name:aq.authorName,value:f.authorName,onChange:w,error:k.authorName}),(0,m.jsx)(J,{"data-testid":h.UploadTitleName,placeholder:ap.patternName,labelText:ap.patternName,name:aq.patternName,value:f.patternName,onChange:w,error:k.patternName}),(0,m.jsx)(J,{"data-testid":h.UploadAuthorWebsite,placeholder:ap.authorWebsite,labelText:ap.authorWebsite,name:aq.authorWebsite,value:f.authorWebsite,onChange:w,error:k.authorWebsite}),(0,m.jsx)(al,{onChange:A,tags:void 0===d?[]:d,error:k.tags}),(0,m.jsx)(R,{type:"file",labelText:ap.file,name:ap.file,accept:ar.join(", "),onChange:w,error:k.file}),(0,m.jsx)("button",{"data-testid":h.SubmitForm,className:an().submit,disabled:q,type:"submit",children:q?(0,m.jsx)(W,{}):"Upload"})]})},au=c(7494),av=c.n(au),aw=function(a){var b=a.tags,c=a.onSubmit;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:av().uploadFormWrapper,children:(0,m.jsxs)("div",{className:av().contentWrapper,children:[(0,m.jsxs)("div",{className:av().instructions,children:[(0,m.jsx)("p",{className:av().description,children:"Join the community, upload your pattern as a PNG or GIF file, you must be the creator of your pattern, and it must be tileable."}),(0,m.jsx)("p",{className:av().finePrint,children:"Your pattern may be edited to maintain the desired quality, but we will always give you full credit for your submission."}),(0,m.jsx)("p",{className:av().finePrint,children:"All entries accepted to Subtle Patterns will be made available for free, licensed under Creative Commons, which allows others to share and build upon your pattern legally."})]}),(0,m.jsxs)("div",{className:av().form,children:[(0,m.jsx)(at,{tags:b,onSubmit:c}),(0,m.jsx)("p",{className:av().finePrintMobile,children:"Your pattern may be edited to maintain the desired quality, but we will always give you full credit for your submission."}),(0,m.jsx)("p",{className:av().finePrintMobile,children:"All entries accepted to Subtle Patterns will be made available for free, licensed under Creative Commons, which allows others to share and build upon your pattern legally."})]})]})})})},ax=aw;c(6425);var ay=c(83552),az=c.n(ay),aA=function(a,b){return{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0,className:b["".concat(a)]}},aB="There was an error, submission wasn't successful, please try again.",aC=function(a){var b,c=a.tags,d=(0,o.useState)(""),e=d[0],f=d[1],g=function(){f(Math.random().toString(36))},h=(b=(0,j.Z)(l().mark(function a(b){var c,d,e;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!b.file||!b.filename)){a.next=2;break}throw Error("File upload is required");case 2:return(c=new FormData).set("author",b.authorName),c.set("title",b.patternName),c.set("author_website",b.authorWebsite),c.set("tags",String(b.tags.join(","))),c.set("file",b.file,b.filename),a.prev=8,a.next=11,fetch(q.Z.api.patterns.create,{method:"POST",body:c});case 11:(e=(d=a.sent).status)===n.W.OK?(g(),(0,p.Am)("The pattern has been successfully submitted, thank you.",aA("success",az()))):(0,p.Am)(aB,aA("error",az())),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(8),(0,p.Am)(aB,aA("error",az()));case 19:case"end":return a.stop()}},a,null,[[8,16]])})),function(a){return b.apply(this,arguments)});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ax,{tags:c,onSubmit:h},e),(0,m.jsx)(p.Ix,{})]})}},95545:function(a){a.exports={upload:"FileUpload_upload__grnje","file-upload-wrapper":"FileUpload_file-upload-wrapper__LUalA",fileUploadWrapper:"FileUpload_file-upload-wrapper__LUalA","file-upload":"FileUpload_file-upload__ilN7Y",fileUpload:"FileUpload_file-upload__ilN7Y","has-error":"FileUpload_has-error__ROjcr",hasError:"FileUpload_has-error__ROjcr",formats:"FileUpload_formats__dstP4","selected-file-wrapper":"FileUpload_selected-file-wrapper__A_ZYv",selectedFileWrapper:"FileUpload_selected-file-wrapper__A_ZYv","selected-file-icon":"FileUpload_selected-file-icon__9lVjw",selectedFileIcon:"FileUpload_selected-file-icon__9lVjw","error-message":"FileUpload_error-message__c08bB",errorMessage:"FileUpload_error-message__c08bB"}},12987:function(a){a.exports={"error-message":"FormError_error-message__s2sbT",errorMessage:"FormError_error-message__s2sbT"}},46052:function(a){a.exports={"spinner-container":"Spinner_spinner-container__SjVMI",spinnerContainer:"Spinner_spinner-container__SjVMI","is-blue":"Spinner_is-blue__cA2Jh",isBlue:"Spinner_is-blue__cA2Jh","is-black":"Spinner_is-black__CLJsZ",isBlack:"Spinner_is-black__CLJsZ","is-white":"Spinner_is-white__7gi7D",isWhite:"Spinner_is-white__7gi7D",scale:"Spinner_scale__VF4y3","is-tiny":"Spinner_is-tiny__rlgD4",isTiny:"Spinner_is-tiny__rlgD4","is-small":"Spinner_is-small__9G3tm",isSmall:"Spinner_is-small__9G3tm","is-medium":"Spinner_is-medium__ifRrZ",isMedium:"Spinner_is-medium__ifRrZ","is-large":"Spinner_is-large___Joxv",isLarge:"Spinner_is-large___Joxv",circular:"Spinner_circular__TVpx_",rotate:"Spinner_rotate__QirSw","is-static":"Spinner_is-static__fC4kn",isStatic:"Spinner_is-static__fC4kn",path:"Spinner_path__4ztyu",dash:"Spinner_dash__dvdEu"}},83552:function(a){a.exports={error:"SubmitForm_error__JM3O_",success:"SubmitForm_success__Ibmcw"}},44048:function(a){a.exports={"tag-selector":"TagSelector_tag-selector__Wg2HA",tagSelector:"TagSelector_tag-selector__Wg2HA",active:"TagSelector_active__3Ps0u","has-error":"TagSelector_has-error__ThJJY",hasError:"TagSelector_has-error__ThJJY","selected-container":"TagSelector_selected-container__9X9Um",selectedContainer:"TagSelector_selected-container__9X9Um","selected-item":"TagSelector_selected-item__M61LE",selectedItem:"TagSelector_selected-item__M61LE",label:"TagSelector_label__dTxfN",suggestions:"TagSelector_suggestions__9SlCk","is-active":"TagSelector_is-active__fs7Mj",isActive:"TagSelector_is-active__fs7Mj","new-tag":"TagSelector_new-tag__lEgPH",newTag:"TagSelector_new-tag__lEgPH",instructions:"TagSelector_instructions__pyiqi",selected:"TagSelector_selected__2QVKm",suggestion:"TagSelector_suggestion___Y0_k",highlighted:"TagSelector_highlighted__s1tfT","input-wrapper":"TagSelector_input-wrapper__4k1aj",inputWrapper:"TagSelector_input-wrapper__4k1aj"}},74378:function(a){a.exports={"tag-selector-wrapper":"TagSelectorWrapper_tag-selector-wrapper__wlQdh",tagSelectorWrapper:"TagSelectorWrapper_tag-selector-wrapper__wlQdh"}},43162:function(a){a.exports={input:"TextInput_input__QIyEq","has-error":"TextInput_has-error__5ngRm",hasError:"TextInput_has-error__5ngRm"}},46389:function(a){a.exports={form:"UploadForm_form__zeduS",submit:"UploadForm_submit___F_Fv"}},7494:function(a){a.exports={"upload-form-wrapper":"UploadFormWrapper_upload-form-wrapper__6l29T",uploadFormWrapper:"UploadFormWrapper_upload-form-wrapper__6l29T",heading:"UploadFormWrapper_heading__PAak6",description:"UploadFormWrapper_description__3KX2_","fine-print":"UploadFormWrapper_fine-print__E7aEk",finePrint:"UploadFormWrapper_fine-print__E7aEk","fine-print-mobile":"UploadFormWrapper_fine-print-mobile__U9TcZ",finePrintMobile:"UploadFormWrapper_fine-print-mobile__U9TcZ","content-wrapper":"UploadFormWrapper_content-wrapper__uuoXQ",contentWrapper:"UploadFormWrapper_content-wrapper__uuoXQ",instructions:"UploadFormWrapper_instructions__LM0ze",form:"UploadFormWrapper_form__0bpDu"}}}])